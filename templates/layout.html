<!doctype html>
<html lang="en">

<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">    
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css" rel="stylesheet"
        integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC" crossorigin="anonymous">   
    <script src="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@5.15.4/css/fontawesome.min.css" crossorigin="anonymous"></script>    
    <title>2 Many Gittars</title>
</head>

<body>        
    <div class="container">
        <header
            class="d-flex flex-wrap align-items-center justify-content-center justify-content-md-between py-3 mb-4 border-bottom">
            <a href="/" class="d-flex align-items-center col-md-5 mb-2 mb-md-0 text-dark text-decoration-none">
                <h1 class="display-1"> 2 Many Gittars </h1>
            </a>

            <div class="col-md-3-mb-1 text-end">
                {% if session.user_id %}
                <a href="/new_ad"><button type="button" class="btn btn-outline-primary">New Ad</button></a>                
                <a href="/browse"> <button type="button" class="btn btn-outline-primary">Browse Ads</button></a>
                <a href="/search"> <button type="button" class="btn btn-outline-primary">Search</button></a>
                {% else %}
                <a href="/browse"> <button type="button" class="btn btn-outline-primary">Browse Ads</button></a>
                <a href="/search"> <button type="button" class="btn btn-outline-primary">Search</button></a>
                {% endif %}
            </div>

            <div class="col-md-3-mb-1 text-end">
                {% if session.user_id %}
                <a href="/profile/{{session.user_id}}"><button type="button" class="btn btn-outline-primary">Profile</button></a>
                {% if unread%}
                <a href="/inbox"><button type="button" class="btn btn-outline-primary">({{unread[0]}})Inbox</button></a>
                {% else %}
                <a href="/inbox"><button type="button" class="btn btn-outline-primary">Inbox</button></a>
                {% endif %}
                <a href="/logout"><button type="button" class="btn btn-outline-primary">Log Out</button></a>            
            {% else %}
            <a href="/login"><button type="button" class="btn btn-primary">Log In</button></a>
            <a href="/register"><button type="button" class="btn btn-primary">Register</button></a>
            {% endif %}
            </div>
    </header>
    </div>
    
    <div style="text-align: center; margin:0 auto;">
        
        {% with messages = get_flashed_messages(category_filter=["error"]) %}
        {% if messages %}
                    
            {% for message in messages %}
                <p style="font-weight:bold; margin: 2px; color:red;">{{message}}</p>
            {% endfor %}
        
        {% endif %}
    {% endwith %}
    {% with messages = get_flashed_messages(category_filter=["success"]) %}
        {% if messages %}
                    
            {% for message in messages %}
                <p style="font-weight:bold; margin: 2px; color:green;">{{message}}</p>
            {% endfor %}
        
        {% endif %}
    {% endwith %}

    </div>
    <div class="container">    
        {% block content %}{% endblock %}
    </div>
    
    <footer>
        <p class="text-center text-secondary">2 Many Gittars Â© 2022</p>
    </footer>
</body>

</html>